{"ast":null,"code":"import _regeneratorRuntime from\"E:/projects/restcountry/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/projects/restcountry/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/projects/restcountry/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Countries from\"./components/Countries\";import\"./App.css\";import Search from\"./components/Search\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url=\"https://restcountries.com/v3.1/all\";function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),countries=_useState6[0],setCountries=_useState6[1];var _useState7=useState(countries),_useState8=_slicedToArray(_useState7,2),filteredCountries=_useState8[0],setFilteredCountries=_useState8[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return fetch(url);case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;setCountries(data);setFilteredCountries(data);setIsLoading(false);setError(null);_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);setIsLoading(false);setError(_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[1,14]]);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData(url);},[]);var handleRemoveCountry=function handleRemoveCountry(name){var filter=filteredCountries.filter(function(country){return country.name.common!==name;});setFilteredCountries(filter);};var handleSearch=function handleSearch(searchValue){var value=searchValue.toLowerCase();var newCountries=countries.filter(function(country){var countryName=country.name.common.toLowerCase();return countryName.startsWith(value);});setFilteredCountries(newCountries);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Country App\"}),/*#__PURE__*/_jsx(Search,{onSearch:handleSearch}),isLoading&&/*#__PURE__*/_jsx(\"h2\",{children:\"Loading..\"}),error&&/*#__PURE__*/_jsx(\"h2\",{children:error.message}),countries&&/*#__PURE__*/_jsx(Countries,{countries:filteredCountries,onRemoveCountry:handleRemoveCountry})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Countries","Search","url","App","isLoading","setIsLoading","error","setError","countries","setCountries","filteredCountries","setFilteredCountries","fetchData","fetch","response","json","data","handleRemoveCountry","name","filter","country","common","handleSearch","searchValue","value","toLowerCase","newCountries","countryName","startsWith","message"],"sources":["E:/projects/restcountry/src/App.js"],"sourcesContent":["\nimport React,{useState,useEffect}from \"react\";\nimport Countries from \"./components/Countries\";\nimport \"./App.css\";\nimport Search from \"./components/Search\";\n\n\n\n\nconst url =\"https://restcountries.com/v3.1/all\";\n\nfunction App (){\n const [isLoading,setIsLoading]=useState(true);\n const [error,setError]=useState(null);\n\n const [countries,setCountries]=useState([]);\n const [filteredCountries,setFilteredCountries]=useState(countries);\n\n const fetchData=async(url)=>{\n  setIsLoading(true);\n  try{\n    const response=await fetch(url);\n    const data=await response.json();\n    setCountries(data);\n    setFilteredCountries(data);\n    setIsLoading(false);\n    setError(null);\n\n  }\n  catch(error){\n    setIsLoading(false);\n    setError(error);\n\n  }\n };\n\n useEffect(()=>{\n  \n fetchData(url);\n\n\n },[])\n const handleRemoveCountry=(name)=>{\n const filter =filteredCountries.filter((country)=>\n country.name.common!==name) ;\n setFilteredCountries(filter)\n };\n const handleSearch=(searchValue)=>{\n  let value=searchValue.toLowerCase();\n  const newCountries=countries.filter((country)=>{\n  const countryName=country.name.common.toLowerCase();\n  return countryName.startsWith(value);\n});\nsetFilteredCountries(newCountries);\n };\n\n  return( <>\n  <h1>Country App</h1>\n  <Search onSearch={handleSearch}/>\n  {isLoading && <h2>Loading..</h2>}\n  {error &&<h2>{error.message}</h2>}\n  {countries && (\n  <Countries \n  countries={filteredCountries}\n  onRemoveCountry={handleRemoveCountry}\n  />\n)}\n  \n  </>\n  );\n };\n\nexport default App;\n"],"mappings":"uVACA,MAAOA,MAAK,EAAEC,QAAQ,CAACC,SAAS,KAAM,OAAO,CAC7C,MAAOC,UAAS,KAAM,wBAAwB,CAC9C,MAAO,WAAW,CAClB,MAAOC,OAAM,KAAM,qBAAqB,CAAC,6IAKzC,GAAMC,IAAG,CAAE,oCAAoC,CAE/C,QAASC,IAAG,EAAG,CACd,cAA+BL,QAAQ,CAAC,IAAI,CAAC,wCAAtCM,SAAS,eAACC,YAAY,eAC7B,eAAuBP,QAAQ,CAAC,IAAI,CAAC,yCAA9BQ,KAAK,eAACC,QAAQ,eAErB,eAA+BT,QAAQ,CAAC,EAAE,CAAC,yCAApCU,SAAS,eAACC,YAAY,eAC7B,eAA+CX,QAAQ,CAACU,SAAS,CAAC,yCAA3DE,iBAAiB,eAACC,oBAAoB,eAE7C,GAAMC,UAAS,4FAAC,iBAAMV,GAAG,sIACxBG,YAAY,CAAC,IAAI,CAAC,CAAC,sCAEIQ,MAAK,CAACX,GAAG,CAAC,QAAzBY,QAAQ,qCACGA,SAAQ,CAACC,IAAI,EAAE,QAA1BC,IAAI,eACVP,YAAY,CAACO,IAAI,CAAC,CAClBL,oBAAoB,CAACK,IAAI,CAAC,CAC1BX,YAAY,CAAC,KAAK,CAAC,CACnBE,QAAQ,CAAC,IAAI,CAAC,CAAC,iFAIfF,YAAY,CAAC,KAAK,CAAC,CACnBE,QAAQ,aAAO,CAAC,qEAGlB,kBAhBKK,UAAS,4CAgBd,CAEDb,SAAS,CAAC,UAAI,CAEda,SAAS,CAACV,GAAG,CAAC,CAGd,CAAC,CAAC,EAAE,CAAC,CACL,GAAMe,oBAAmB,CAAC,QAApBA,oBAAmB,CAAEC,IAAI,CAAG,CAClC,GAAMC,OAAM,CAAET,iBAAiB,CAACS,MAAM,CAAC,SAACC,OAAO,QAC/CA,QAAO,CAACF,IAAI,CAACG,MAAM,GAAGH,IAAI,GAAC,CAC3BP,oBAAoB,CAACQ,MAAM,CAAC,CAC5B,CAAC,CACD,GAAMG,aAAY,CAAC,QAAbA,aAAY,CAAEC,WAAW,CAAG,CACjC,GAAIC,MAAK,CAACD,WAAW,CAACE,WAAW,EAAE,CACnC,GAAMC,aAAY,CAAClB,SAAS,CAACW,MAAM,CAAC,SAACC,OAAO,CAAG,CAC/C,GAAMO,YAAW,CAACP,OAAO,CAACF,IAAI,CAACG,MAAM,CAACI,WAAW,EAAE,CACnD,MAAOE,YAAW,CAACC,UAAU,CAACJ,KAAK,CAAC,CACtC,CAAC,CAAC,CACFb,oBAAoB,CAACe,YAAY,CAAC,CACjC,CAAC,CAEA,mBAAQ,wCACR,mCAAoB,cACpB,KAAC,MAAM,EAAC,QAAQ,CAAEJ,YAAa,EAAE,CAChClB,SAAS,eAAI,iCAAkB,CAC/BE,KAAK,eAAG,oBAAKA,KAAK,CAACuB,OAAO,EAAM,CAChCrB,SAAS,eACV,KAAC,SAAS,EACV,SAAS,CAAEE,iBAAkB,CAC7B,eAAe,CAAEO,mBAAoB,EAEtC,GAEI,CAEJ,CAAC,CAEF,cAAed,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}